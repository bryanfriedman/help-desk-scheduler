type: specs.openrewrite.org/v1beta/recipe
name: com.bryanfriedman.hds.MigrateStruts
displayName: Struts 1.1 → 1.5 API adjustments
description: ActionError→ActionMessage, perform→execute, messages.empty()→isEmpty, add throws.
recipeList:
  - org.openrewrite.java.ChangeMethodName:
      methodPattern: org.apache.struts.action.Action perform(..)
      newMethodName: execute
      matchOverrides: true
  - com.bryanfriedman.rewrite.AddThrowsException:
      methodPattern: org.apache.struts.action.Action execute(..)
      exceptionType: java.lang.Exception
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts.action.ActionError
      newFullyQualifiedTypeName: org.apache.struts.action.ActionMessage
  - org.openrewrite.java.ChangeMethodName:
      methodPattern: org.apache.struts.action.ActionMessages empty()
      newMethodName: isEmpty
      matchOverrides: true
  - org.openrewrite.java.ChangeMethodName:
      methodPattern: org.apache.struts.action.ActionErrors empty()
      newMethodName: isEmpty